"use strict";!function(){var e=document.querySelector(".main-nav"),l=document.querySelector(".main-nav__toggle");e.classList.add("main-nav--closed"),l.addEventListener("click",function(){e.classList.contains("main-nav--closed")?(l.style.transform="rotate(180deg)",e.classList.remove("main-nav--closed"),e.classList.add("main-nav--opened")):(l.style.transform="rotate(0deg)",e.classList.add("main-nav--closed"),e.classList.remove("main-nav--opened"))});var i=document.querySelector(".slider--decor"),t=window.matchMedia("(max-width: 767px)"),n=window.matchMedia("(min-width: 768px)"),s=function(e){this.el=document.querySelector(e),this.init()};s.prototype={init:function(){this.slides=this.el.querySelectorAll(".slider__item"),this.sliderToggle=this.el.querySelectorAll(".slider__toggle"),this.sliderNumber=this.el.querySelectorAll(".slider__number"),this.imgTitle=this.el.querySelectorAll(".view__img"),this.prevBtn=this.el.querySelectorAll(".slider__previous-btn"),this.nextBtn=this.el.querySelectorAll(".slider__next-btn"),this.slides.currentSlide=0,this.slides.showSlides=1,this.navigate()},navigate:function(){var c=this;c.slides[c.slides.currentSlide].classList.add("slider__item--showing"),this.el===i&&n.matches&&(this.slides[c.slides.currentSlide+1].classList.add("slider__item--showing"),this.slides.showSlides=2),[].forEach.call(c.sliderNumber,function(e){e.innerHTML=c.slides.currentSlide+1+"/"+c.slides.length}),[].forEach.call(c.imgTitle,function(e){var l=0,i=0;e.addEventListener("touchstart",function(e){l=e.changedTouches[0].screenX},!1),e.addEventListener("touchend",function(e){(i=e.changedTouches[0].screenX)-50<l&&s(c.slides.currentSlide+c.slides.showSlides),l<i+50&&s(c.slides.currentSlide-c.slides.showSlides)},!1)}),[].forEach.call(this.prevBtn,function(e){e.addEventListener("click",function(){s(c.slides.currentSlide-c.slides.showSlides)},!1)}),[].forEach.call(this.nextBtn,function(e){e.addEventListener("click",function(){s(c.slides.currentSlide+c.slides.showSlides)},!1)}),[].forEach.call(c.slides,function(r){var e=r.querySelectorAll(".view__btn");[].forEach.call(e,function(e){e.addEventListener("click",function(e){e.preventDefault();var l=document.querySelector(".slider--filling"),i=document.querySelector(".slider--size"),s=document.querySelector(".slider--decor"),t=document.querySelectorAll(".total__conclusion"),n=r.querySelectorAll(".view__img");[].forEach.call(n,function(e){c.el===l?t[0].value=e.title:c.el===i?t[1].value=e.title:c.el===s&&(t[2].value=e.title)})},!1)})}),[].forEach.call(c.slides,function(s){var e=s.querySelectorAll(".reviews__btn");[].forEach.call(e,function(i){i.addEventListener("click",function(e){e.preventDefault();var l=s.querySelectorAll(".reviews__content");[].forEach.call(l,function(e){e.classList.contains("reviews__content--show")?(e.classList.remove("reviews__content--show"),i.innerHTML="Развернуть"):(e.classList.add("reviews__content--show"),i.innerHTML="Свернуть")})},!1)})});var s=function(e){c.slides.currentSlide=(e+c.slides.length)%c.slides.length,[].forEach.call(c.slides,function(e){e.classList.remove("slider__item--showing")}),c.slides[c.slides.currentSlide].classList.add("slider__item--showing"),[].forEach.call(c.sliderNumber,function(e){e.innerHTML=c.slides.currentSlide+1+"/"+c.slides.length}),n.matches?2===c.slides.showSlides&&c.slides.currentSlide!==c.slides.length-1?c.slides[c.slides.currentSlide+1].classList.add("slider__item--showing"):2===c.slides.showSlides&&c.slides.currentSlide===c.slides.length-1&&c.slides[0].classList.add("slider__item--showing"):t.matches&&[].forEach.call(c.slides,function(e){var l=c.slides.currentSlide;c.slides.length/c.sliderToggle.length%c.sliderToggle.length&&l>=c.sliderToggle.length-1&&l!==c.slides.length-1?l=c.sliderToggle.length-2:l===c.slides.length-1&&(l=c.sliderToggle.length-1),[].forEach.call(c.sliderToggle,function(e){e.classList.remove("slider__toggle--active")}),c.sliderToggle[l].classList.add("slider__toggle--active")})}}};new s(".slider--filling"),new s(".slider--size"),new s(".slider--decor"),new s(".slider--reviews");var r=document.querySelectorAll(".nav");[].forEach.call(r,function(e){for(var l=e.querySelectorAll('[href^="#"]'),i=0;i<l.length;i++)l[i].addEventListener("click",function(e){e.preventDefault();var t=window.pageYOffset,n=this.href.replace(/[^#]*(.*)/,"$1"),r=document.querySelector(n).getBoundingClientRect().top,c=null;requestAnimationFrame(function e(l){null===c&&(c=l);var i=l-c,s=r<0?Math.max(t-i/.2,t+r):Math.min(t+i/.2,t+r);window.scrollTo(0,s);s!=t+r?requestAnimationFrame(e):location.hash=n})},!1)})}();